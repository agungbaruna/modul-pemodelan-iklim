[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Module Praktikum Pemodelan Iklim",
    "section": "",
    "text": "Pendahuluan\nTentang pemodelan iklim"
  },
  {
    "objectID": "praktikum-1.html#pendahuluan",
    "href": "praktikum-1.html#pendahuluan",
    "title": "1  Dynamical Downscaling: Model Weather Research Forecasting (WRF)",
    "section": "1.1 Pendahuluan",
    "text": "1.1 Pendahuluan\nGlobal Climate Model (GCM) adalah alat utama dan paling komprehensif yang digunakan dalam mensimulasikan keadaan iklim pada masa lalu, masa sekarang, maupun masa depan. GCM memiliki kemampuan dalam melakukan simulasi variabilitas iklim, sifat-sifat fisis, serta kimia di bumi dengan perhitungan secara matematis yang menggambarkan proses, interaksi, dan timbal balik pada atmosfer, lautan, dan biotik. Kelemahan dalam GCM adalah ketidakmampuan menangkap kejadian-kejadian iklim pada skala regional maupun lokal karena memiliki resolusi spasial yang kasar, sekitar >100 km. Ketidakmampuan GCM dalam menjelaskan keadaan iklim secara regional maupun lokal karena keterbatasan sumber daya komputer. Akan tetapi pada saat ini, teknologi komputasi semakin berkembang dan beberapa instansi yang bergerak dalam bidang cuaca dan iklim, seperti Met Office Hadley Center, National Center for Atmospheric Research (NCAR), dan European Centre for Medium-Range Weather Forecasts (ECMWF) telah mengembangkan GCM dalam menjelaskan fenomena-fenomena cuaca dalam skala regional dengan sumber daya komputer yang sangat tinggi.\nMetode downscaling di dalam ilmu iklim umum digunakan pada kajian hidrologi (Piani, Weedon, et al. 2010), pertanian (Glotter et al. 2014), dan sistem perkotaan (Smid and Costa 2018). Sebagai contoh pada kajian hidrologi, teknik downscaling digunakan untuk pemodelan debit sungai dan banjir (Piani, Haerter, et al. 2010). Metode downscaling adalah cara mendapatkan informasi lebih spesifik dengan resolusi tinggi. Kata downscaling biasanya merujuk pada peningkatan resolusi spasial maupun temporal. Terdapat dua cara dalam melakukan metode ini, yaitu statistik dan dinamik. Di dalam ilmu iklim, metode ini umum digunakan pada GCM. Wilby dan Wigley (Wilby and Wigley 1997) mengelompokkan teknik downscaling menjadi 4 kategori, yaitu\n\nRegresi\nMetode regresi merupakan metode downscaling paling awal yang telah digunakan pada kajian perubahan iklim. Hal ini dapat dibuktikan dari penelitian oleh Kim pada tahun 1984 (Kim et al. 1984). Pendekatan ini secara umum membangun hubungan linier atau non-linier antara parameter titik lokasi dengan prediktor variabel dari resolusi kasar. Contoh dari metode ini adalah regresi linier sederhana, regresi linier berganda, Artificial Neural Network (ANN), regresi komponen utama (Principle Component Regression/PCR), dan lain sebagainya. Sudah banyak penelitian yang menerapkan metode ini untuk kajian perubahan iklim (Huth and Kyselỳ 2000; Goly et al. 2014; Sachindra et al. 2014; Pahlavan et al. 2018).\nPola cuaca\nMetode ini dibangun dari hubungan statistik dari variabel cuaca di stasiun observasi atau rata-rata area dengan klasifikasi cuaca tertentu yang dapat diturunkan secara obyektif maupun subyektif. Metode ini secara obyektif dapat meliputi komponen utama, Canonical Correlation Analyses (CCA), aturan Fuzzy, dan Neural Networks. Contoh prosedur pengelompokkan pola cuaca, yaitu European Grosswetterlagen dan British Isles Lamb Weather Types.\nStokastik\nModel WGEN (Richardson 1981) merupakan contoh dari pendekatan ini. Model ini memiliki kemampuan dalam membangkitkan data curah hujan harian berdasarkan peluang kejadian hujan (hujan dan tidak hujan) dengan rantai Markov order satu. Model ini telah digunakan dalam kajian perubahan iklim dan analisis dampak. Model stokastik yang telah diperoleh dari data observasi deret waktu dapat divalidasi dengan GCM dan perlu dikalibrasi terlebih dahulu.\nLimited-area climate models (LAM)\nMetode terakhir untuk melakukan downscaling terhadap GCM adalah dengan menyematkan model iklim dengan area terbatas. Sebenarnya, LAM pada saat ini dapat diistilahkan sebagai Regional Climate Model (RCM). RCM memiliki resolusi spasial kurang dari 100 km. RCM memerlukan sumber daya komputer yang hampir sama dengan menjalankan GCM. RCM memiliki kemampuan dalam mensimulasikan proses-proses atmosfer pada skala menengah, seperti curah hujan orografis dan konveksi awan atau skala tinggi, seperti turbulensi. Contoh dari RCM adalah Weather Research Forecasting (WRF) (Skamarock et al. 2019).\n\nTeknik dynamical downscaling dapat menjelaskan proses-proses fisika (hukum termodinamika, hukum kekekalan energi, hukum gerak) untuk setiap skala piksel. Teknik ini membutuhkan kondisi batas menggunakan data GCM dan perlu menentukan pemilihan lokasi. Teknik ini merujuk pada penggunaan RCM untuk meningkatkan skala spasial dan temporal. Model iklim regional meliputi komponen dinamik, fisik, maupun kimia. Komponen dinamik atmosfer memperhitungkan komponen fisika atmosfer yang mencakup proses-proses fisik, seperti radiasi gelombang panjang dan pendek, presipitasi, dan proses pertukaran energi di permukaan bumi atau laut. Proses pada skala sub-piksel dimodelkan oleh berbagai skema parameterisasi yang tentunya dapat berasal dari perhitungan matematika (integral atau diferensial) serta statistik.\nWRF merupakan salah satu teknik dynamical downscaling. Penggunaan model WRF semakin berkembang saat ini dengan tujuan riset dan operasional. WRF memiliki spesifikasi dalam berbagai aplikasi prediksi di dalam sistem bumi, seperti kimia atmosfer, hidrologi, kebakaran hutan, siklon, dan iklim regional. Sebanyak lebih dari 36.000 pengguna WRF tersebar di 162 negara, termasuk Indonesia yang telah menggunakan WRF untuk kebutuhan operasional (Powers et al. 2017). Ada dua jenis model WRF berdasarkan penyelesaian persamaan aliran fluida atmosfer, yaitu Advanced Research WRF (ARW) dan Nonhydrostatic Mesoscale Model (NMM). WRF-ARW dikembangkan oleh National Centre of Atmosphere Research (NCAR), sedangkan WRF-NMM dikembangkan oleh National Centre of Environmental Prediction (NCEP) (Skamarock et al. 2019). Secara umum, WRF mampu melakukan simulasi beberapa komponen Numerical Weather Prediction (NWP) Gambar 1.1. Berdasarkan aplikasi tertentu, WRF memiliki beberapa turunan model, seperti WRF-Chem (kimia atmosfer), WRF-Hydro (hidrologi), dan WRF-Fire (kebakaran hutan dan lahan). Di dalam praktikum ini, Anda hanya perlu memahami cara instalasi dan simulasi WRF-ARW.\n\n\n\nGambar 1.1: Beberapa parameter dalam Numerical Weather Prediction (Sonkaew et al.)\n\n\nWRF diimplementasikan ke dalam bahasa pemrograman komputer. Jika Anda melihat repositori github WRF, Jenis bahasa pemrograman yang paling banyak digunakan adalah Fortran. Untuk perhitungan fisik, kimia, dan matematis diketik dalam bahasa Fortran. Model WRF dapat dijalankan pada personal komputer hingga super komputer. Sebenarnya, Anda dapat menjalankan WRF dengan 1 prosesor saja. Akan tetapi, waktu proses simulasi mungkin akan lama akibat dari resolusi spasial dan temporal yang tinggi, juga cakupan pemilihan wilayah simulasi. Proses perhitungan model dinamik maupun fisik akan lebih cepat jika menggunakan banyak prosesor atau yang bisa disebut dengan komputasi paralel. Kerangka kerja perangkat lunak WRF mendukung komputasi paralel yang efisien pada berbagai platform komputasi. Model atmosfer membawa kumpulan komputasi yang sama di setiap grid vertikal maupun horizontal Gambar 1.2. Komputer melakukan perhitungan fisik atmosfer untuk setiap grid secara paralel. Kita mungkin telah mengenal jenis prosesor yang tersedia saat ini, seperti Intel dan AMD. Jenis prosesor yang mereka buat dapat mempengaruhi kecepatan proses perhitungan. Untuk perhitungan paralel, Anda dapat menggunakan tipe prosesor desktop, mobile (prosesor di laptop), maupun server, tetapi juga perlu memperhatikan banyaknya core maupun frekuensi yang digunakan.\n\n\n\nGambar 1.2: Ilustrasi Model Iklim\n\n\nTerkait dengan bahasa pemrograman yang digunakan di dalam WRF, yaitu bahasa Fortran dan C, kode skrip terlebih dahulu harus dikompilasi dengan program Compiler. Compiler ini bertujuan mengubah bahasa dari kode yang diketik menjadi bahasa mesin. Ada berbagai macam program Compiler yang tersedia secara gratis, salah satunya adalah GNU Compiler Collection (gcc). Selain GNU, perusahaan seperti Intel, AMD, maupun NVIDIA juga memiliki program Compiler yang dapat digunakan secara gratis serta mendukung komputasi paralel. Di dalam modul praktikum ini, Anda dapat memilih salah satu dari dua Compiler yang akan dijelaskan, yaitu GNU atau Intel. Perbedaan terhadap jenis Compiler ini dapat mempengaruhi waktu simulasi pada satu jenis prosesor yang sama Gambar 1.3.\n\n\n\nGambar 1.3: Perbedaan waktu simulasi WRF pada tipe Compiler, Distro, dan Prosesor yang digunakan"
  },
  {
    "objectID": "praktikum-1.html#dasar-dasar-pemrograman-bash",
    "href": "praktikum-1.html#dasar-dasar-pemrograman-bash",
    "title": "1  Dynamical Downscaling: Model Weather Research Forecasting (WRF)",
    "section": "1.2 Dasar-dasar Pemrograman Bash",
    "text": "1.2 Dasar-dasar Pemrograman Bash\nSebagai salah satu tool scripting populer pada UNIX, Bash sangatlah berguna bagi para user Linux atau SysAdmin. Nama Bash merupakan akronim dari Bourne Again Shell. Sebagian besar model iklim, Bash digunakan untuk menjalankan instalasi dan simulasi. Pengguna model-model iklim disarankan mempelajari dasar-dasar pemrograman ini agar memahami berbagai perintah dari cara kerja instalasi dan simulasi model tersebut, biasanya terdapat file bernama README. File ini berisi mengenai cara instalasi, simulasi, informasi file, dan berbagai aplikasi tambahan untuk menjalankan model iklim tersebut.\nBash merupakan shell default dari sistem operasi Linux. Anda bisa menjalankan shell lain, seperti ksh (Korn Shell), zsh, dan csh (C shell). Untuk menjalankan Bash, Anda bisa menekan Ctrl+Alt+T atau carilah aplikasi Terminal. Khusus Windows 10, Anda dapat mencari aplikasi “Ubuntu” atau “wsl.exe”. Tampilan Bash seperti pada Gambar 1.4. Tulisan menunjukkan nama user dan tanda berarti lokasi folder saat ini.\n\n\n\nGambar 1.4: Bash pada Ubuntu\n\n\nJika Anda mengetik perintah pwd pada Bash, hasilnya adalah seperti di bawah ini atau bisa dilihat pada Gambar 1.5.\n\n\n\nGambar 1.5: Perintah pwd pada terminal Bash\n\n\nPerintah dasar lainnya yang sering digunakan oleh pengguna Linux adalah ls atau ll (Gambar 1.6). Perintah ini berfungsi untuk melihat nama folder dan file yang berada di direktori pada lokasi saat ini. Untuk berpindah lokasi folder, Anda dapat mengetik perintah cd dan pilih folder yang ingin dibuka, contohnya cd Documents/ atau cd Documents (Gambar 1.7). Anda dapat kembali ke folder sebelumnya dengan mengetik perintah cd ..\n\n\n\nGambar 1.6: Perintah ls pada terminal Bash\n\n\n\n\n\nGambar 1.7: Perintah cd pada terminal Bash\n\n\nAnda dapat membuat folder baru dengan perintah mkdir, memindahkan folder atau file dengan mv, menghapus file dengan rm, menghapus folder dengan rmdir, membuat file baru dengan touch, dan menyalin folder atau file dengan cp. Contoh penggunaan beberapa perintah tersebut dapat dilihat sebagai berikut.\n\nMisalkan kita ingin membuat folder “Tes-folder”\nmkdir Tes-folder\nAnda juga dapat membuat lebih dari 1 folder, misalnya “Tes-folder-1” dan “Tes-folder-2”\nmkdir Tes-folder-1 Tes-folder-2\nUntuk memastikan ketiga folder tersebut telah dibuat, ketik perintah ls\nls\nMisalkan kita ingin membuat file “tes-file” di dalam folder “Tes-folder”\ncd Tes-folder\ntouch tes-file\nls\nKemudian, file “tes-file” kita pindahkan ke direktori sebelumnya dan ganti namanya dengan “tes-file-pindah”\nmv tes-file ../tes-file-pindah\nKembali ke folder sebelumnya\ncd ..\nKetik perintah ls untuk memastikan file “tes-file” telah dipindahkan ke direktori sebelumnya dengan berubah nama menjadi “tes-file-pindah”\nls \nFile “tes-file-pindah” dihapus menggunakan perintah rm\nrm tes-file-pindah\nls"
  },
  {
    "objectID": "praktikum-1.html#prosedur-praktikum-instalasi-wrf",
    "href": "praktikum-1.html#prosedur-praktikum-instalasi-wrf",
    "title": "1  Dynamical Downscaling: Model Weather Research Forecasting (WRF)",
    "section": "1.3 Prosedur Praktikum: Instalasi WRF",
    "text": "1.3 Prosedur Praktikum: Instalasi WRF\nKami menyarankan untuk menggunakan sistem operasi Linux dengan Distro Ubuntu. Jika Anda menggunakan Windows 10/11, Anda dapat memasang Windows Subsystem Linux (WSL) dan pasang Distro Ubuntu. Saat kami menguji WRF di Ubuntu, proses instalasi serta simulasi tidak mengalami masalah. Anda dipersilahkan menggunakan distro yang lain, seperti Fedora, CentOS, Almalinux, atau Manjaro, tetapi kami tidak dapat menjamin keberhasilan instalasi dan simulasi pada distro tersebut. Untuk pengguna MacOS, Anda dapat menggunakan Virtual Machine (mis. Virtual Box, VMWare, QEMU) atau Docker.\n\n1.3.1 Menjalankan Windows Subsystem Linux (WSL) di Windows 10/11\nUntuk menjalankan WRF, Anda memerlukan sistem operasi berbasis Linux dengan distribusi yang tersedia saat ini. Pada modul ini, distro Ubuntu yang dipilih untuk simulasi WRF. Bagi Anda pengguna Windows 10/11, WSL dapat digunakan. Selain WSL, Anda juga dapat menggunakan Cygwin. WSL dapat dijalankan pada Windows 10/11 dan Windows Server 2019 dengan versi minimum 1803. Saat ini, WSL versi 2 (WSL-2) telah tersedia yang dapat berjalan pada Windows 10 versi 1903 ke atas. Kami merekomendasikan Anda untuk memasang WSL-2 daripada WSL-1 karena prosesnya lebih cepat. Untuk mengaktifkan WSL, Anda dapat mengikuti beberapa langkah-langkah berikut ini.\n\nUnduh WSL-2 pada halaman ini dan Install.\nBuka menu Control Panel \\(\\rightarrow\\) Program and Features\nDi sebelah kiri, klik Turn Windows Features On or Off\nScroll ke paling bawah. Kemudian, aktifkan tanda centang pada Windows Subsystem for Linux dan Virtual Machine Platform\nTunggu proses update sampai selesai, kemudian klik Restart Now (pastikan simpan data-data pekerjaan dan tutup semua aplikasi)\nSetelah proses restart selesai, carilah aplikasi dan unduh Ubuntu pada Microsoft Store\nBuka aplikasi Ubuntu yang telah terunduh dan tunggu konfigurasi selesai\nMasukkan Username dan Password (Catatan: kami sarankan sama dengan user dan pass Windows 10, tapi boleh beda. Hasil ketikan password tidak muncul di terminal)\nKetikkan pada terminal\nsudo apt update\nAnda juga dapat membuka terminal Ubuntu pada terminal Windows Power Shell dengan mengetik wsl atau wsl.exe\n\n\n\n1.3.2 Memasang NCAR Command Language (NCL)\nAplikasi ini dibutuhkan untuk memvisualisasikan lokasi kajian yang akan disimulasikan. NCL merupakan bahasa pemrograman interpreter, sama seperti Python, yang memiliki banyak kegunaan dalam proses analisis dan visualisasi data-data cuaca dan iklim. Pengembang WRF telah menyediakan skrip NCL untuk memudahkan dalam ketepatan pemilihan lokasi sesuai dengan keinginan pengguna. Langkah-langkah pemasangan NCL sebagai berikut.\n\nUntuk memasang NCL, Anda harus mengunduh aplikasi Miniconda untuk Linux pada website https://repo.anaconda.com/miniconda/Miniconda3-py39_22.11.1-1-Linux-x86_64.sh dengan perintah pada terminal Bash sebagai berikut.\n\nwget https://repo.anaconda.com/miniconda/Miniconda3-py39_22.11.1-1-Linux-x86_64.sh\n\nKemudian, lakukan pemasangan Miniconda dengan perintah di bawah ini.\n\nbash Miniconda3-py39_22.11.1-1-Linux-x86_64.sh\n\nSelanjutnya tekan ENTER. Terminal akan menampilkan End-User License Agreement (EULA), tekan ENTER atau SPACE sampai muncul perintah seperti di bawah ini.\n\nDo you accept the license terms? [yes|no]\n[no] >>>\n\nKemudian, ketikkan yes untuk melanjutkan instalasi dan tekan ENTER.\nTutup terminal Anda dan buka kembali. Perhatikan pada tulisan (base) di paling kiri nama user. Jika tulisan itu sudah muncul, berarti proses pemasangan Miniconda telah berhasil.\nSelanjutnya, lakukan pemasangan package mamba dengan perintah.\n\nconda install mamba -n base -c conda-forge\n\n\n\n\n\n\nNote\n\n\n\nPackage mamba memungkinkan dapat mempercepat pengunduhan dan pemasangan package-package di dalam Miniconda.\n\n\n\nTerakhir, lakukan proses pembuatan environment dengan nama ncl dan pemasangan NCL dengan perintah.\n\nconda create -n ncl\nconda activate ncl\nmamba install -c conda-forge xarray netcdf4 scipy pyngl pynio matplotlib cartopy wrf-python ncl\n\nSaat Anda ingin memulai menggunakan program NCL, aktifkan terlebih dahulu environment ncl dengan perintah di bawah ini. Kemudian, tulisan (base) menjadi (ncl) yang menandakan bahwa environment telah berhasil diaktifkan.\n\nconda activate ncl\n\n\n\n\n\n\nNote\n\n\n\nEnvironment ncl akan terus dipakai, mulai dari pemasangan WRF hingga analisis dan visualisasi luaran WRF. NCAR telah mengembangkan wrf-python secara khusus untuk analisis dan visualisasi luaran WRF.\n\n\n\n\n1.3.3 Sebelum Mulai\nAnda perlu mencoba dasar pemrograman Bash sebelum memulai mengunduh data, memasang beberapa package, sampai menjalankan simulasi WRF. Silahkan Anda ikuti langkah-langkah di bawah ini agar memudahkan dalam mencoba praktikum ini.\n\nBuka terminal Bash\n\nUntuk Windows 10/11, buka aplikasi Windows Power Shell. Kemudian, ketikkan perintah seperti di bawah ini. Setelahnya, akan muncul terminal Bash.\nwsl\nUntuk Ubuntu atau disto Linux lainnya, carilah program Terminal atau bisa menggunakan shortcut Ctrl+Alt+T\n\nSaat Anda membuka terminal, pastikan lokasi folder/direktori saat ini adalah /home/<user_name>, di mana user_name adalah nama user pada laptop/komputer Anda masing-masing. Perhatikan kembali Gambar 1.5 bahwa untuk melihat lokasi direktori Anda sekarang bisa mengetik perintah pwd pada terminal atau dengan melihat simbol ~ yang terletak di sebelah kiri $.\nBuat folder kerja dengan nama WRF-Model untuk menampung data-data, package, serta source code WRF. Perintah pada terminal Bash adalah sebagai berikut.\nmkdir WRF-Model\nKemudian, bukalah folder WRF-Model dengan perintah\ncd WRF-Model\nSekarang, Anda berada di folder WRF-Model (Perhatikan ~ berubah menjadi ~/WRF-Model)\nDi dalam WRF-Model, buatlah folder data guna untuk meletakkan data masukan WRF (data statik dan data cuaca).\n\nLangkah-langkah di atas masih berlanjut pada subbab selanjutnya.\n\n\n1.3.4 Data dan Package Pendukung\n\nPerangkat Lunak\nUntuk memasang WRF, Anda perlu menyiapkan perangkat lunak pendukung serta data contoh untuk mensimulasikan WRF. Perangkat lunak tersebut dapat diunduh melalui halaman Github ini. Untuk mengunduh source code, pilih <> Code \\(\\rightarrow\\) Download ZIP (Gambar 1.8). Anda dapat mengunduh secara manual atau menggunakan perintah git clone pada terminal.\nsudo apt -y install git #Install program git jika belum ada\ngit clone https://www.github.com/agungbaruna/pyWRF-install\n\n\n\nGambar 1.8: Unduh source code\n\n\nSetelah software pendukung telah diunduh, unduh source code WPS (WRF Pre-Processing) dan WRF pada halaman Github NCAR. Source code WRF berisi algoritma perhitungan fisik dan dinamik atmosfer, sedangkan source code WPS berisi algoritma untuk persiapan data masukan atmosfer dari GCM dan pemilihan lokasi.\n\nWRF Pre-Processing (WPS): https://www.github.com/wrf-model/WPS\nModel WRF: www.github.com/wrf-model/WRF\n\n\n\nData\nData-data masukan untuk WRF telah tersedia dan unduh pada halaman web https://s.id/wrf-data. Kami menyarankan untuk menggunakan Wi-Fi karena ukuran data cukup besar. Data yang telah diunduh Anda pindahkan ke folder data yang berada di dalam WRF-Model.\n\n\n1. Global Forecast System (GFS)\nUntuk data masukan yang digunakan berasal dari NOAA yang bernama Global Forecasts System (GFS). GFS memiliki resolusi spasial \\(0.25^o\\) (~ 25 km), \\(0.50^o\\) (~50 km), dan \\(1.00^o\\) (~ 100 km) dengan temporal per 6 jam. GFS memiliki produk data prakiraan maupun analisis/histori cuaca secara global. Anda dapat mengunduh data ini pada salah satu halaman web berikut.\n\nAWS S3 Bucket: https://noaa-gfs-bdp-pds.s3.amazonaws.com\nResarch Data Archive (RDA) NCAR: https://rda.ucar.edu/datasets/ds084.1\nNCEP Central Operations: https://nomads.ncep.noaa.gov/\n\nData GFS yang digunakan dalam praktikum ini memiliki waktu 1-3 Januari 2022 pada pukul 00:00, 06:00, 12:00, dan 18:00 UTC dengan resolusi spasial \\(1.00^o\\) yang telah diunduh pada halaman web AWS S3 Bucket. Produk GFS yang digunakan adalah analisis/histori.\n\n\n2. ERA5\nSelain GFS, Anda dapat menggunakan data masukan dari institusi lain, seperti ECMWF pada produk ERA5. ERA5 merupakan data reanalisis sehingga hanya memiliki produk histori. Anda dapat mengunduhnya melalui Climate Data Store (CDS) pada halaman https://cds.climate.copernicus.eu. ERA5 memiliki resolusi spasial sebesar \\(0.25^o\\) dengan temporal per 1 jam. Data ERA5 memiliki dua tipe, yaitu data permukaan tanah (Single Levels) dan atmosfer untuk setiap ketinggian (Pressure Levels). Anda diharuskan mengunduh dua tipe data ini dengan variabel yang dipilih adalah sebagai berikut.\n\nERA5 hourly data on Pressure Levels:\n\ngeopotential\nrelative humidity\nspecific humidity\ntemperature\nu-component wind\nv-component wind\n\nERA5 hourly data on Single Levels:\n\n10m u-component of wind\n10m v-component of wind\n2m dewpoint temperature\n2m temperature\nland sea mask\nmean sea level pressure\nsea ice cover\nsea surface temperature\nskin temperature\nsnow depth\nsoil temperature level 1\nsoil temperature level 2\nsoil temperature level 3\nsoil temperature level 4\nsurface_pressure\nvolumetric soil water layer 1\nvolumetric soil water layer 2\nvolumetric soil water layer 3\nvolumetric soil water layer 4\n\n\nAnda tidak diharuskan mengunduh semua jam karena CDS membatasi banyaknya permintaan data dari pengguna sehingga Anda tidak dapat mengunduh semua data sekaligus. Data ERA5 yang akan digunakan pada praktikum ini memiliki waktu yang sama dengan GFS.\n\n\n3. Data Statik WPS\nData statik ini wajib diunduh untuk menjalankan WRF. Data ini berisi seperti tipe permukaan lahan, nilai Leaf Area Index (LAI), tipe tanah, dan elevasi permukaan. Anda dapat mengunduhnya di https://www2.mmm.ucar.edu/wrf/src/wps_files/geog_high_res_mandatory.tar.gz. File dari data tersebut berukuran 2 GB dan setelah diekstrak dapat mencapai 30 GB. Data ini sudah tersedia di dalam link https://s.id/wrf-data. Untuk mengekstrak file ini, gunakan perintah berikut\ncd data\ngunzip geog_high_res_mandatory.tar.gz\ntar -xf geog_high_res_mandatory.tar\ncd .. # Kembali ke folder WRF-Model\nSetelah itu, folder WPS_GEOG akan muncul di dalam folder data/\n\n\n\n1.3.5 Instalasi Software Compiler\nInstalasi ini meliputi cara melakukan kompilasi dengan dua Compiler berbeda, yaitu GNU dan Intel. Anda dipersilahkan memilih salah satu langkah. Proses kompilasi untuk semua package yang telah terunduh tidak dapat dilakukan pada Compiler yang berbeda.\n\n1. GNU\nSebelum Anda memasuki tahapan instalasi package yang terdapat dalam folder pyWRF-install, pasang terlebih dahulu package dependencies dengan perintah di bawah ini.\nsudo apt -y update && sudo apt -y upgrade\nsudo apt -y install gfortran gcc make m4 csh\n\n\n2. Intel\nBerbeda dengan GNU, tipe Compiler Intel memang agak rumit untuk memasangnya. Namun, Compiler ini sebenarnya lebih efisien dalam hal kecepatan saat mensimulasikan WRF. Kami sudah membandingkan waktu simulasi dengan Compiler tipe ini lebih cepat dibandingkan dengan GNU Gambar 1.3.\nAnda dapat memperoleh software ini di halaman resmi Intel. Kami sudah menyediakan software tersebut di dalam halaman web s.id/wrf-intel-compiler. Terdapat tiga file instalasi Compiler, yaitu Fortran, C, dan MPI (untuk komputasi paralel). Jumlah ukuran tiga file tersebut cukup besar, sekitar 2,5 GB. Letakkan ketiga file ini di dalam folder WRF-Model. Perhatikan langkah-langkah berikut ini untuk memasang ketiga file tersebut.\n# 0. Package pendukung\nsudo apt -y install make m4 csh\n# 1. C Compiler\nbash l_dpcpp-cpp-compiler_p_2023.0.0.25393_offline.sh -a -s --eula accept\n# 2. Fortran Compiler\nbash l_fortran-compiler_p_2023.0.0.25394_offline.sh -a -s --eula accept\n# 3. MPI\nbash l_mpi_oneapi_p_2021.8.0.25329_offline.sh -a -s --eula accept\nLokasi folder hasil instalasi terdapat di $HOME/intel. Perintah untuk memanggil program Compiler Intel belum menjadi ENVIRONMENT VARIABLE. Untungnya, Intel menyediakan skrip untuk memanggil semua program Compiler secara default, yaitu terdapat di dalam $HOME/intel/oneapi/setvars.sh. Ketika memanggil skrip tersebut, ENVINRONMENT VARIABLE milik Miniconda secara otomatis dinonaktifkan (tulisan <base> hilang). Perintah untuk memanggil skrip setvars.sh adalah sebagai berikut.\nsource $HOME/intel/oneapi/setvars.sh\n\n\n\n1.3.6 Instalasi Package\nInstalasi beberapa package meliputi zlib, libpng, jasper, hdf5, netcdf-c, dan netcdf-fortran. Perlu diperhatikan dan lihat pada terminal bahwa Anda berada di folder ~/WRF-Model. Masukkan beberapa perintah ENVIRONMENT VARIABEL di bawah ini dengan perintah export.\nexport ODIR=$HOME/WRF-Model\nexport PATH=$ODIR/bin:$PATH\nexport LD_LIBRARY_PATH=$ODIR/lib:$LD_LIBRARY_PATH\nexport LDFLAGS=-L$ODIR/lib\nexport CPPFLAGS=-I$ODIR/include\nexport NETCDF=$ODIR\nexport HDF5=$ODIR\nexport JASPERLIB=$ODIR/lib\nexport JASPERINC=$ODIR/include\nLangkah ini wajib dilakukan pada saat melakukan instalasi package dan juga WRF. Pendefinisian ENVIRONMENT VARIABLE ini berlaku untuk GNU maupun Intel.\n\n1. GNU\nBerikut ini langkah-langkah memasang package pada Compiler GNU. Buka terlebih dahulu folder pyWRF-install/libraries dengan mengetik perintah cd pyWRF-install/libraries.\n\nzlib\n# 0. Buka folder libraries\ncd $ODIR/pyWRF-install/libraries\n# 1. Extract \ntar -xf zlib-1.2.13.tar.gz\n# 2. Buka folder hasil ekstrak\ncd zlib-1.2.13\n# 3. Konfigurasi \nCC=gcc ./configure --prefix=$ODIR\n# 4. Instalasi\nmake check install\nlibpng\n# 0. Buka folder libraries\ncd $ODIR/pyWRF-install/libraries\n# 1. Extract \ntar -xf libpng-1.6.37.tar.gz\n# 2. Buka folder hasil ekstrak\ncd libpng-1.6.37\n# 3. Konfigurasi \nCC=gcc ./configure --prefix=$ODIR\n# 4. Instalasi\nmake check install\njasper\n# 0. Buka folder libraries\ncd $ODIR/pyWRF-install/libraries\n# 1. Extract \ntar -xf jasper-1.900.1.tar.gz  \n# 2. Buka folder hasil ekstrak\ncd jasper-1.900.1\n# 3. Konfigurasi \nCC=gcc ./configure --prefix=$ODIR\n# 4. Instalasi\nmake check install\nopenMPI\nJika Anda tidak berencana menjalankan WRF dengan 1 prosesor, Anda dapat melewati langkah ini. Akan tetapi, kami menyarankan untuk memasang program ini untuk mempersingkat waktu dalam mensimulasikan WRF.\n# 0. Buka folder libraries\ncd $ODIR/pyWRF-install/libraries\n# 1. Extract \ntar -xf openmpi-4.1.4.tar.gz  \n# 2. Buka folder hasil ekstrak\ncd openmpi-4.1.4\n# 3. Konfigurasi \nCC=gcc FC=gfortran ./configure --prefix=$ODIR\n# 4. Instalasi\nmake check install\nhdf5\n# 0. Buka folder libraries\ncd $ODIR/pyWRF-install/libraries\n# 1. Extract \ntar -xf hdf5-1.12.0.tar.gz \n# 2. Buka folder hasil ekstrak\ncd hdf5-1.12.0\n# 3. Konfigurasi \nCC=gcc FC=gfortran ./configure --prefix=$ODIR --with-default-api-version=v18 --enable-fortran\n# 4. Instalasi\nmake\nmake install\nnetcdf-c\n# 0. Buka folder libraries\ncd $ODIR/pyWRF-install/libraries\n# 1. Extract \ntar -xf netcdf-c-4.7.4.tar.gz \n# 2. Buka folder hasil ekstrak\ncd netcdf-c-4.7.4\n# 3. Konfigurasi \nCC=gcc ./configure --prefix=$ODIR --disable-dap\n# 4. Instalasi\nmake\nmake install\nnetcdf-fortran\n# 0. Buka folder libraries\ncd $ODIR/pyWRF-install/libraries\n# 1. Extract \ntar -xf netcdf-fortran-4.5.3.tar.gz \n# 2. Buka folder hasil ekstrak\ncd netcdf-fortran-4.5.3\n# 3. Konfigurasi \nCC=gcc FC=gfortran ./configure --prefix=$ODIR\n# 4. Instalasi\nmake\nmake install\n\n\n\n2. Intel\nBerikut ini langkah-langkah memasang package pada Compiler Intel. Buka terlebih dahulu folder pyWRF-install/libraries dengan mengetik perintah cd pyWRF-install/libraries. Untuk proses instalasi menggunakan Intel, sama saja dengan GNU. Hanya saja, perbedaannya adalah definisi dari variabel CC maupun FC. Untuk Intel, variabel CC=icc dan FC=ifort. Jangan lupa untuk mengaktifkan ENVIRONMENT VARIABLE dari Intel dengan mengetik perintah.\nsource ~/intel/oneapi/setvars.sh\n\nzlib\n# 0. Buka folder libraries\ncd $ODIR/pyWRF-install/libraries\n# 1. Extract \ntar -xf zlib-1.2.13.tar.gz\n# 2. Buka folder hasil ekstrak\ncd zlib-1.2.13\n# 3. Konfigurasi \nCC=icc CFLAGS='-diag-disable=10441' ./configure --prefix=$ODIR\n# 4. Instalasi\nmake check install\nlibpng\n# 0. Buka folder libraries\ncd $ODIR/pyWRF-install/libraries\n# 1. Extract \ntar -xf libpng-1.6.37.tar.gz\n# 2. Buka folder hasil ekstrak\ncd libpng-1.6.37\n# 3. Konfigurasi \nCC=icc CFLAGS='-diag-disable=10441' ./configure --prefix=$ODIR\n# 4. Instalasi\nmake check install\njasper\n# 0. Buka folder libraries\ncd $ODIR/pyWRF-install/libraries\n# 1. Extract \ntar -xf jasper-1.900.1.tar.gz  \n# 2. Buka folder hasil ekstrak\ncd jasper-1.900.1\n# 3. Konfigurasi \nCC=icc CFLAGS='-diag-disable=10441' ./configure --prefix=$ODIR\n# 4. Instalasi\nmake check install\nhdf5\n# 0. Buka folder libraries\ncd $ODIR/pyWRF-install/libraries\n# 1. Extract \ntar -xf hdf5-1.12.0.tar.gz \n# 2. Buka folder hasil ekstrak\ncd hdf5-1.12.0\n# 3. Konfigurasi \nCC=icc FC=ifort CFLAGS='-diag-disable=10441' ./configure --prefix=$ODIR --with-default-api-version=v18 --enable-fortran\n# 4. Instalasi\nmake\nmake install\nnetcdf-c\n# 0. Buka folder libraries\ncd $ODIR/pyWRF-install/libraries\n# 1. Extract \ntar -xf netcdf-c-4.7.4.tar.gz \n# 2. Buka folder hasil ekstrak\ncd netcdf-c-4.7.4\n# 3. Konfigurasi \nCC=icc CFLAGS='-diag-disable=10441' ./configure --prefix=$ODIR --disable-dap\n# 4. Instalasi\nmake\nmake install\nnetcdf-fortran\n# 0. Buka folder libraries\ncd $ODIR/pyWRF-install/libraries\n# 1. Extract \ntar -xf netcdf-fortran-4.5.3.tar.gz \n# 2. Buka folder hasil ekstrak\ncd netcdf-fortran-4.5.3\n# 3. Konfigurasi \nCC=icc FC=ifort CFLAGS='-diag-disable=10441' ./configure --prefix=$ODIR\n# 4. Instalasi\nmake\nmake install\n\n\n\n\n1.3.7 Instalasi WRF\nProses instalasi WRF membutuhkan waktu agak lama, yaitu sekitar 30-60 menit. Tentunya, ini bergantung pada spesifikasi prosesor yang Anda gunakan, serta tipe Compiler. Ikuti langkah-langkah berikut.\n\nBuka direktori WRF yang berada di dalam $ODIR/WRF dengan perintah.\ncd $ODIR/WRF\nJalankan file configure dengan perintah.\n./configure\nAnda akan disajikan beberapa teks di dalamnya. Anda disuruh untuk memilih opsi Compiler. Tipe Compiler tersebut selain GNU dan Intel, ada pula IBM, PGI, Fujitsu, Pathscale, dan CRAY. Jika Anda menggunakan Compiler tipe GNU, ketikkan angka 35. Untuk Intel, ketik angka 16. Setelah itu, tekan Enter.\n\n\n\nKonfigurasi WRF dengan Compiler GNU\n\n\n\n\n\nKonfigurasi WRF dengan Compiler GNU\n\n\nUntuk melakukan instalasi, ketik perintah ini.\n./compile em_real -j jumlah_prosesor\ndimana jumlah_prosesor adalah jumlah dari prosesor pada laptop/komputer Anda yang akan digunakan untuk proses instalasi dan kompilasi kode-kode WRF. Proses kompilasi akan memakan waktu yang sangat lama apabila Anda hanya menggunakan 1 prosesor. Pastikan berbagai program pada komputer/laptop Anda yang saat ini sedang dibuka, seperti Google Chrome atau Spotify harap ditutup terlebih dahulu karena ini membantu proses instalasi lebih stabil.\n\nUntuk Compiler Intel, setelah langkah ke-2 dijalankan, buka file configure.wrf dengan perintah.\nnano configure.wrf\nKemudian, scroll ke bawah dengan menekan tombol \\(\\downarrow\\) pada keyboard dan ubahlah isinya sesuai aturan pada tabel di bawah ini.\n\n\nTabel 1.1: Pengubahan variabel DM_FC dan DM_CC\n\n\nSebelum\nSesudah\n\n\n\n\nDM_FC = mpif90 -f90=$(SFC)\nDM_FC = mpiifort -f90=$(SFC)\n\n\nDM_CC = mpicc -cc=$(SCC)\nDM_CC = mpiicc -cc=$(SCC)\n\n\n\n\nSetelah selesai diubah, keluar dari editor nano dengan menekan tombol Ctrl + X\n\nProses instalasi WRF berhasil dilakukan apabila terdapat file yang berekstensi .exe: ndown.exe, tc.exe, real.exe, dan wrf.exe di dalam folder main. Anda bisa melihatnya dengan perintah\nls main/*.exe\nmain/ndown.exe  main/real.exe  main/tc.exe  main/wrf.exe\n\n\n1.3.8 Instalasi WRF Pre-Processing (WPS)\nProgram WPS digunakan untuk menyesuaikan data masukan dari berbagai sumber (ECMWF, GFS, NAM, …) sebelum ke simulasi WRF. Terdapat 3 program utama: geogrid.exe, ungrib.exe, dan metgrid.exe. Berikut ini kegunaan dari ketiga program utama WPS.\n\ngeogrid.exe: memilih lokasi yang akan dilakukan simulasi. Luaran program ini berupa file geo_em* yang berisi nilai-nilai dari variabel di dalam file hasil ekstrak geog_high_res_mandatory.tar\nungrib.exe: mengubah file berformat grib menjadi nc, serta memungkinkan dapat melakukan interpolasi (waktu dan lokasi)\nmetgrid.exe: menggabungkan\n\nProses instalasi WPS tidak membutuhkan waktu yang lama, sekitar 2-5 menit. Untuk melakukan instalasi WPS, ikuti langkah-langkah berikut ini.\n\nSaat ini, Anda berada di folder WRF. Buka folder WPS dengan perintah\ncd $ODIR/WPS\nJalankan file configure dengan perintah\n./configure\nKetik angka 3 untuk GNU atau angka 19 untuk Intel.\nSetelah selesai, di folder WPS akan muncul file configure.wps. Beberapa baris dari isi file tersebut ada yang perlu ditambahkan dan diganti dengan ketentuan ini.\n\nUntuk Intel, tambahkan flags -liomp5 setelah -lnetcdf pada bagian variabel WRF_LIB = .... Kemudian, ubah pula DM_FC dan DM_CC seperti pada Tabel 1.1.\nUntuk GNU, tambahkan flags -fopenmp setelah -lnetcdf pada bagian variabel WRF_LIB = ....\n\nSetelah diganti, lakukan kompilasi dengan mengetik perintah\n./compile\n\nProses instalasi berhasil apabila terdapat 3 file .exe: geogrid.exe, ungrib.exe, dan metgrid.exe di folder WPS yang berupa shortcut. Anda dapat menggunakan perintah\nls *.exe\ngeogrid.exe  metgrid.exe  ungrib.exe"
  },
  {
    "objectID": "praktikum-1.html#prosedur-praktikum-menjalankan-simulasi-wrf-arw",
    "href": "praktikum-1.html#prosedur-praktikum-menjalankan-simulasi-wrf-arw",
    "title": "1  Dynamical Downscaling: Model Weather Research Forecasting (WRF)",
    "section": "1.4 Prosedur Praktikum: Menjalankan Simulasi WRF-ARW",
    "text": "1.4 Prosedur Praktikum: Menjalankan Simulasi WRF-ARW\nAnda dapat melanjutkan ke tahapan ini apabila seluruh program telah berhasil terpasang. Bagi Anda yang belum berhasil, sabar :D dan ulangi kembali langkah-langkah di atas. Secara umum, diagram pada Gambar 1.9 menunjukkan proses menjalankan WRF dari tahapan memasukkan data hingga plot dan analisis akhir. Seperti yang telah dijelaskan pada subbab sebelumnya bahwa langkah awal dalam menjalankan WRF adalah menjalankan WPS terlebih dahulu. Anda perlu menyiapkan data masukan atmosfer maupun permukaan (data statik). Program geogrid.exe dijalankan pertama, kemudian diikuti dengan ungrib.exe dan terakhir metgrid.exe. Selanjutnya, Anda dapat melangkah ke program WRF, yaitu real.exe dan wrf.exe. Program real.exe digunakan sebagai pendefinisian kondisi awal dan kondisi batas berdasarkan informasi dari namelist.input yang berada dalam folder test/em_real/. Kemudian, Anda dapat menggunakan perangkat lunak apapun (mis. NCAR Command Language (NCL), GrADS, R, Python, Matlab, ArcMAP, QGIS, …) untuk menganalisis serta visualisasi luaran WRF. NCL yang telah Anda pasang sebelumnya dapat digunakan untuk analisis, tetapi kami hanya memberikan panduan analisis luaran WRF menggunakan Python.\nUntuk data masukan, Anda juga dapat menggunakan data observasi, tetapi harus berupa grid. Namun, ini merupakan program yang berbeda dari WRF-ARW, yaitu WRFDA (WRF Data Assimilation). Selain itu, terdapat pula data masukan dari emisi kimia, seperti emisi biogenik dan atropogenik. Ini juga merupakan program yang berbeda dari WRF-ARW, yaitu WRF-Chem. Penjelasan mengenai WRFDA dan WRF-Chem tidak disampaikan di dalam praktikum ini.\n\n\n\nGambar 1.9: Diagram WRF\n\n\n\n1.4.1 Program WPS\nUntuk lebih mudah dalam memahami alur proses simulasi WRF pada modul ini, lokasi/domain yang dipilih untuk adalah Kota Surabaya dengan periode 1 - 3 Januari 2022 dengan data GFS dan ERA5. Interval waktu dari kedua data tersebut adalah 6 jam, yaitu pukul 00:00, 06:00, 12:00, dan 18:00 waktu Zulu (GMT+0). Langkah awal sebelum menjalankan WRF adalah menentukan lokasi dan waktu terlebih dahulu di dalam program WPS. Seperti yang telah dijelaskan sebelumnya, WPS memiliki 3 program utama, yaitu geogrid.exe, ungrib.exe, dan metgrid.exe.\nSesuai dengan kelanjutan dari subbab sebelumnya mengenai instalasi WRF, Anda saat ini berada di dalam folder WPS/. Jika lupa, Anda bisa mengetikkan perintah ini.\ncd $HOME/WRF-Model/WPS\nKemudian, Jika Anda menutup terminal bash atau mematikan laptop/komputer, definisikan kembali ENVIRONMENT VARIABLE seperti pada saat proses memasang WRF dan WPS, hanya LD_LIBRARY_PATH dan PATH.\nexport ODIR=$HOME/WRF-Model\nexport PATH=$ODIR/bin:$PATH\nexport LD_LIBRARY_PATH=$ODIR/lib:$LD_LIBRARY_PATH\nLangkah-langkah menjalankan program WPS adalah sebagai berikut.\n\n1.4.1.1 Penentuan Lokasi dan Waktu Simulasi\nIsi dari file tersebut pada saat awal kurang lebih seperti ini.\n&share\n wrf_core = 'ARW',\n max_dom = 2,\n start_date = '2019-09-04_12:00:00','2019-09-04_12:00:00',\n end_date   = '2019-09-06_00:00:00','2019-09-04_12:00:00',\n interval_seconds = 10800\n/\n\n&geogrid\n parent_id         =   1,    1,\n parent_grid_ratio =   1,    3,\n i_parent_start    =   1,   53,\n j_parent_start    =   1,   25,\n e_we              =  150, 220,\n e_sn              =  130, 214,\n geog_data_res = 'default','default',\n dx = 15000,\n dy = 15000,\n map_proj = 'lambert',\n ref_lat   =  33.00,\n ref_lon   = -79.00,\n truelat1  =  30.0,\n truelat2  =  60.0,\n stand_lon = -79.0,\n geog_data_path = '/glade/work/wrfhelp/WPS_GEOG/'\n/\n\n&ungrib\n out_format = 'WPS',\n prefix = 'FILE',\n/\n\n&metgrid\n fg_name = 'FILE'\n/\nTerdapat berbagai macam parameter di dalam &share, &geogrid, &ungrib, dan &metgrid. Anda perlu mengubah beberapa parameter tersebut yang dapat disesuaikan dengan simulasi. Tapi, Anda harus memperhatikan aturan atau template yang telah diberikan di dalam panduan pengguna. Untuk lebih rincinya, Anda bisa lihat di Panduan Pengguna WRF-ARW Bab 3. Di dalam tahapan ini, Anda perlu mengubah parameter-parameter yang ada di dalam &geogrid. Anda dapat mengubah file ini dengan membukanya menggunakan aplikasi apa saja (mis. Notepad, VS Code, Notepad++) atau dapat langsung dibuka di terminal dengan perintah nano namelist.wps. Pada contoh yang telah kami berikan, Anda perlu mengganti parameter pada bagian &share dan &geogrid. Penjelasan setiap variabel dapat dilihat pada Tabel 1.2. File yang telah berubah menjadi seperti di bawan ini.\n&share\n wrf_core = 'ARW',                                                                 \n max_dom = 3,\n start_year  = 2022, 2022, 2022,\n start_month =   01,   01,   01,\n start_day   =   01,   01,   01,\n start_hour  =   00,   00,   00,\n end_year    = 2022, 2022, 2022,\n end_month   =   01,   01,   01,\n end_day     =   03,   03,   03,\n end_hour    =   18,   18,   18,\n interval_seconds = 21600,                                                         \n io_form_geogrid = 2,                                                              \n/\n\n&geogrid\n parent_id         =   1,   1,   1,\n parent_grid_ratio =   1,   3,   9,                                                  \n i_parent_start    =   1,  11,  15,\n j_parent_start    =   1,  11,  15,\n e_we              =  33,  40,  46,                                                 \n e_sn              =  33,  40,  46,                                                 \n geog_data_res = 'default','default','default',                                     \n dx = 18000,                                                                        \n dy = 18000,                                                                        \n map_proj = 'mercator',                                                             \n ref_lat   =  -7.328457529144323,                                                   \n ref_lon   = 112.7412453984603,                                                     \n truelat1  =  -7.328457529144323,                                                   \n geog_data_path = '/home/absen/WRF-Model/data/WPS_GEOG/'                                 \n/\n\n&ungrib\n out_format = 'WPS',\n prefix = 'FILE',\n/\n\n&metgrid\n fg_name = 'FILE'\n io_form_metgrid = 2, \n/\n\n\nTabel 1.2: Informasi beberapa variabel di dalam namelist.wps\n\n\n\n\n\n\nVariabel\nKeterangan\n\n\n\n\nwrf_core\nTipe penyelesaian WRF, ARW atau NMM\n\n\nmax_dom\nJumlah domain, semakin banyak domain maka semakin tinggi resolusi spasialnya\n\n\nstart_date\nWaktu mulai simulasi sesuai dengan data masukan. Sesuai dengan jumlah domain. Format: YYYY-MM-DD_HH:mm:ss\n\n\nend_date\nWaktu akhir simulasi sesuai dengan data masukan. Sesuai dengan jumlah domain. Format: YYYY-MM-DD_HH:mm:ss\n\n\ninterval_seconds\nInterval waktu dari data masukan (dalam detik)\n\n\nio_from_geogrid\nTipe format file luaran geogrid.exe (1 = binary, 2 = netcdf, 3 = GRIB1)\n\n\nparent_id\nUntuk domain paling kasar, nilainya 1. Domain selanjutnya juga bernilai 1 yang menandakan bahwa subdomain merupakan bagian dari domain utamanya.\n\n\nparent_grid_ratio\nRasio piksel dari dx dan dy pada domain ke-1. Domain paling kasar adalah 1 dan selanjutnya mengikuti rasio yang diinginkan.\n\n\ni_parent_start\nNomor indeks acuan untuk koordinat X. Domain paling kasar bernilai 1, ditentukan dari kiri-bawah\n\n\nj_parent_start\nNomor indeks acuan untuk koordinat Y. Domain paling kasar bernilai 1, ditentukan dari kiri-bawah\n\n\ne_we\nJumlah grid/piksel dari barat ke timur mengikuti rumus parent_grid_ratio * N + 1, dengan N > 0\n\n\ne_sn\nJumlah grid/piksel dari selatan ke utara mengikuti rumus parent_grid_ratio * N + 1, dengan N > 0\n\n\ngeog_data_res\nPemilihan resolusi spasial dari data statik\n\n\ndx\nResolusi spasial pada koordinat X (dalam meter)\n\n\ndy\nResolusi spasial pada koordinat Y (dalam meter)\n\n\nmap_proj\nSistem proyeksi peta (mercator, lambert, polar, lat-lon). Untuk simulasi di sekitar khatulistiwa, direkomendasikan menggunakan mercator\n\n\nref_lat\nKoordinat lintang titik tengah acuan dari domain paling kasar\n\n\nref_lon\nKoordinat bujur titik tengah acuan dari domain paling kasar\n\n\ntruelat1\nKoordinat lintang sebenarnya. Dibutuhkan untuk sistem proyeksi mercator, polar, dan lambert\n\n\ngeog_data_path\nLokasi folder WPS_GEOG\n\n\n\n\nPada parameter start_date dan end_date, Anda bisa menggunakan parameter lain dengan membagi masing-masing format tahun (*_year), bulan (*_month), tanggal (*_day), dan jam (*_hour).\nBerkaitan dengan skala resolusi spasial pada simulasi yang akan dijalankan dengan pemilihan lokasi di Kota Surabaya, skala tertingginya adalah 2 km. Anda perhatikan parameter parent_grid_ratio. Nilai 1, 3, dan 9 secara berturut-turut merupakan rasio terhadap dx atau dy untuk setiap domain. Nilai 1 berarti untuk domain terluar dengan skala \\(1 / 1 * 18000 = 18000\\) meter, sedangkan nilai 3 untuk domain ke-2 dengan skala \\(1 / 3 * 18000 = 6000\\) meter.\nPada bagian &geogrid, penentuan lokasi kajian ini cukup rumit. Anda bisa menggunakan halaman Github https://jiririchter.github.io/WRFDomainWizard untuk membuat file namelist.wps sesuai dengan lokasi yang Anda inginkan, setidaknya Anda dapat menyalin teks pada bagian &geogrid Gambar 1.10.\n\n\n\nGambar 1.10: WRF Domain Wizard oleh Jiririchter\n\n\nUntuk memverifikasi kesesuaian pemilihan lokasi yang telah dibuat, Anda dapat menggunakan skrip plotgrids_new.ncl di dalam folder util/. Bukalah file tersebut. Cari dan ubahlah variabel type = x11 menjadi type = png untuk mengatur luaran file dalam bentuk gambar (format .png). Untuk menjalankan skrip ini, aktifkan terlebih dahulu environment ncl dengan perintah source activate ncl atau conda activate ncl. Kemudian, jalankan perintah berikut ini. File .png akan muncul di dalam folder WPS/ dengan nama wps_show_dom.png. Hasilnya seperti Gambar 1.11\nncl util/plotgrids_new.ncl\n\n\n\nGambar 1.11: Konfigurasi domain WRF\n\n\n\n\n1.4.1.2 Menjalankan Program geogrid.exe\nSelanjutnya, Anda dapat menjalankan program geogrid.exe dengan perintah di bawah ini. Hasilnya, terdapat 3 file dengan nama geo_em.d0x.nc (x = nomor domain; 1, 2, 3) karena pengaturan max_dom = 3.\n./geogrid.exe\nls geo_em*\ngeo_em.d01.nc  geo_em.d02.nc  geo_em.d03.nc\n\n\n1.4.1.3 Menyambungkan File Data Masukan dan Tabel Variabel\nWPS menyediakan program link_grib.csh untuk menyambungkan file data masukan ke dalam folder WPS/ dengan membuat shortcut yang bernama GRIBFILE.* (GRIBFILE.AAA, GRIBFILE.AAB, …). Perintahnya sebagai berikut.\n./link_grib.csh $ODIR/data/GFS/*\nKemudian, buatlah shortcut dengan nama Vtable di dalam folder WPS/ dari file yang berada di dalam folder ungrib/Variable_Tables. Untuk data GFS, nama file tersebut adalah Vtable.GFS, sedangkan ERA5 adalah Vtable.ERA-Interim.pl. Perintahnya sebagai berikut.\nln -sf ungrib/Variable_Tables/Vtable.GFS Vtable # GFS\nln -sf ungrib/Variable_Tables/Vtable.ERA-Interim.pl Vtable # ERA5\n\n\n1.4.1.4 Menjalankan Program ungrib.exe\nSetelah menyambungkan data masukan serta tabel variabel, jalankan program ungrib.exe dengan perintah berikut.\n./ungrib.exe\nLuaran dari program ini adalah file dengan nama FILE:* yang memiliki format .nc (netcdf).\n\n\n1.4.1.5 Menjalankan Program metgrid.exe\nJalankan program metgrid.exe dengan perintah berikut.\n./metgrid.exe\nLuaran dari program ini adalah file dengan nama met_em* yang memiliki format .nc. File-file ini nanti yang akan dipindahkan menuju folder WRF/test/em_real atau Anda dapat juga membuat shortcut. Perintahnya sebagai berikut.\nmv met_em* $ODIR/WRF/test/em_real\n# atau\nln -sf met_em* $ODIR/WRF/test/em_real\n\n\n\n1.4.2 Program WRF\nPada bagian ini, program WRF yang digunakan hanya 2: real.exe dan wrf.exe. Sebelum itu, Anda diharuskan mengubah beberapa parameter pada file namelist.input seperti di dalam file namelist.wps. Parameter di dalam namelist.input sangat banyak karena terdapat bagian pemilihan lokasi dan waktu (disesuaikan dengan namelist.wps), pemilihan skema parameter fisik, dan parameter dinamik. Anda dapat membaca lebih lanjut di Panduan Pengguna WRF Bab 5.\n\n1.4.2.1 Mengubah isi namelist.input\nSaat ini Anda masih berada di folder WPS/. Buka terlebih dahulu folder em_real dengan perintah\ncd $ODIR/WRF/test/em_real\nDi dalam folder em_real, terdapat 4 program, yaitu real.exe, ndown.exe, tc.exe, dan wrf.exe. Nilai max_dom pada namelist.wps adalah 3. Jika pemilihan lokasi Anda memiliki >1 domain, WRF akan melakukan proses simulasi sampai pada domain tertinggi atau disebut dengan nesting. Proses ini juga dibagi lagi menjadi 2, yaitu nesting dua arah dan satu arah. Untuk nesting satu arah, program yang digunakan bisa atau tanpa dengan program ndown.exe. Penggunaan nesting satu arah biasanya pengguna hanya tertarik pada analisis domain tertinggi. Penggunaan ndown.exe juga sering digunakan pada turunan WRF, yaitu WRF-Chem jika terdapat >1 domain karena sampai modul ini dibuat, belum ada pembaruan terkait algoritma downscaling pada WRF-Chem dengan nesting dua arah.\nBukalah file namelist.input dengan cara sama seperti Anda membuka namelist.wps. Ketika pertama kali dibuka, file namelist.input seperti di bawah ini. Anda juga dapat melihat beberapa contoh/template lain (mis. namelist.input.4km, namelist.input.chem, namelist.input.volc, …) sesuai dengan kebutuhan tertentu.\n &time_control\n run_days                            = 0,\n run_hours                           = 36,\n run_minutes                         = 0,\n run_seconds                         = 0,\n start_year                          = 2019, 2019,\n start_month                         = 09,   09, \n start_day                           = 04,   04,\n start_hour                          = 12,   12,\n end_year                            = 2019, 2019,\n end_month                           = 09,   09,\n end_day                             = 06,   06,\n end_hour                            = 00,   00,\n interval_seconds                    = 10800\n input_from_file                     = .true.,.true.,\n history_interval                    = 60,  60,\n frames_per_outfile                  = 1, 1,\n restart                             = .false.,\n restart_interval                    = 7200,\n io_form_history                     = 2\n io_form_restart                     = 2\n io_form_input                       = 2\n io_form_boundary                    = 2\n /\n\n &domains\n time_step                           = 90,\n time_step_fract_num                 = 0,\n time_step_fract_den                 = 1,\n max_dom                             = 2,\n e_we                                = 150,    220,\n e_sn                                = 130,    214,\n e_vert                              = 45,     45,\n dzstretch_s                         = 1.1\n p_top_requested                     = 5000,\n num_metgrid_levels                  = 34,\n num_metgrid_soil_levels             = 4,\n dx                                  = 15000,\n dy                                  = 15000,\n grid_id                             = 1,     2,\n parent_id                           = 0,     1,\n i_parent_start                      = 1,     53,\n j_parent_start                      = 1,     25,\n parent_grid_ratio                   = 1,     3,\n parent_time_step_ratio              = 1,     3,\n feedback                            = 1,\n smooth_option                       = 0\n /\n\n &physics\n physics_suite                       = 'CONUS'\n mp_physics                          = -1,    -1,\n cu_physics                          = -1,    -1,\n ra_lw_physics                       = -1,    -1,\n ra_sw_physics                       = -1,    -1,\n bl_pbl_physics                      = -1,    -1,\n sf_sfclay_physics                   = -1,    -1,\n sf_surface_physics                  = -1,    -1,\n radt                                = 15,    15,\n bldt                                = 0,     0,\n cudt                                = 0,     0,\n icloud                              = 1,\n num_land_cat                        = 21,\n sf_urban_physics                    = 0,     0,\n fractional_seaice                   = 1,\n /\n\n &fdda\n /\n\n &dynamics\n hybrid_opt                          = 2, \n w_damping                           = 0,\n diff_opt                            = 2,      2,\n km_opt                              = 4,      4,\n diff_6th_opt                        = 0,      0,\n diff_6th_factor                     = 0.12,   0.12,\n base_temp                           = 290.\n damp_opt                            = 3,\n zdamp                               = 5000.,  5000.,\n dampcoef                            = 0.2,    0.2,\n khdif                               = 0,      0,\n kvdif                               = 0,      0,\n non_hydrostatic                     = .true., .true.,\n moist_adv_opt                       = 1,      1,\n scalar_adv_opt                      = 1,      1,\n gwd_opt                             = 1,      0,\n /\n\n &bdy_control\n spec_bdy_width                      = 5,\n specified                           = .true.\n /\n\n &grib2\n /\n\n &namelist_quilt\n nio_tasks_per_group = 0,\n nio_groups = 1,\n /\nPada file ini, samakan beberapa parameter seperti di file namelist.wps. Perhatikan Tabel 1.3. Anda cukup mencari parameter yang sama antara namelist.wps dengan namelist.input, tetapi tidak semuanya ada di dalam namelist.input. Untuk parameter lainnya, seperti parent_time_step_ratio, time_step, history_interval, frame_per_outfile, dan seterusnya, Anda dapat membacanya lebih banyak di Panduan Pengguna WRF Bab 5 atau bisa dilihat pada file README.namelist di dalam folder test/em_real untuk setiap penjelasan singkat berbagai parameter.\nBagian &time_control berfungsi sebagai pengaturan waktu simulasi serta luaran yang akan dihasilkan. Sebagai informasi, file luaran WRF berformat NetCDF (.nc) dengan nama wrfout_<domain>_<yyyy>-<mm>-<dd>_<HH>:<MM>:<SS>, dimana\n\ndomain: identitas domain (d01, d02, …)\nyyyy: tahun, dengan format 4 digit\nmm: bulan, dengan format 2 digit\ndd: tanggal, dengan format 2 digit\nHH: jam, dengan format 2 digit\nMM: menit, dengan format 2 digit\nSS: detik, dengan format 2 digit\n\nPada parameter run_days, run_hours, run_minutes, dan run_seconds, ini dapat dihitung dari selisih waktu akhir simulasi dengan awal simulasi. Pada simulasi yang akan dicoba dalam modul ini, yaitu 1 Januari 2022 pukul 00:00 UTC hingga 3 Januari 2022 18:00 UTC, nilai dari run_days dan run_hours secara berturut-turut adalah 2 dan 18. Anda juga dapat mengatur run_days ini menjadi 0 setelah dikonversi menjadi jam (2 hari = 48 jam) dan tambahkan ke run_hours, yaitu menjadi 66. Parameter history_interval digunakan untuk meletakkan nilai pada file luaran WRF dalam format .nc dengan waktu tertentu (dalam menit). Misalkan diatur ke 60, berarti hasil perhitungan dari berbagai algoritma WRF dimasukkan ke file setiap 60 menit sekali. Anda bebas mengatur angka pada parameter ini. Dampaknya, ukuran file akan semakin besar jika Anda mengatur nilainya kecil. Tentu ini tidak akan menjadi masalah apabila ruang kosong penyimpanan internal/eksternal Anda masih banyak. Banyaknya file luaran dapat pula diatur jumlahnya, yaitu di dalam parameter frames_per_outfile. Jika parameter diatur pada frames_per_outfile = 1, history_interval = 60, dan run_hours = 66, berarti file luaran yang akan dibuat dan disimpan ke dalam penyimpanan adalah sebanyak 66 file. Agar lebih efektif saat akan melakukan analisis, kami menyarankan untuk mengatur frames_per_outfile = 1000.\nKemudian untuk bagian &domains, digunakan untuk mengatur kondisi dari domain agar dapat sesuai dengan data masukan (banyak grid horizontal dan vertikal, posisi, rasio grid, tipe interpolasi). Pada parameter feedback, Anda dapat mengatur tipe nesting dua arah (1) atau satu arah (0). Parameter num_metgrid_levels dan num_metgrid_soil_levels harus diatur sesuai dengan yang ada di dalam salah satu file met_em*. Untuk melihatnya, gunakan perintah di bawah ini. Nilai kedua parameter num_metgrid_levels dapat berbeda sesuai dengan data masukan yang digunakan. Sebagai contoh, GFS memiliki num_metgrid_levels = 34, sedangkan ERA5 num_metgrid_levels = 38.\nncdump -h met_em.d01.2022-01-01_00:00:00.nc | grep num_metgrid_levels      # = 34\nncdump -h met_em.d01.2022-01-01_00:00:00.nc | grep NUM_METGRID_SOIL_LEVELS # = 4\nDi dalam bagian &physics, terdapat berbagai skema parameterisasi dalam penyelesaian perhitungan pembentukan awan, skemar radiasi, lapisan perbatas, serta proses-proses di permukaan tanah. Pada parameter physics_suite, Anda bisa mengaturnya ke TROPICAL karena wilayah yang ingin disimulasikan berada di daerah tropis. Ketika Anda mendefinisikan physics_suite = 'TROPICAL', Anda tidak perlu lagi menambahkan angka pada parameter di bawah ini.\n\nmp_physics         =  6: WSM6\ncu_physics         = 16: New-Tiedke\nra_lw_physics      =  4: Rapid Radiative Model Transformation for GCM (RRTMG)\nra_sw_physics      =  4: Rapid Radiative Model Transformation for GCM\nbl_pbl_physics     =  1: Yonsei University\nsf_sfclay_physics  = 91: MM5 Monin-Obukhov\nsf_surface_physics =  2: Noah Land Surface Model\n\nAnda hanya perlu menambahkan nilai -1 pada parameter-parameter tersebut, tentu saja sesuai dengan banyaknya domain. Anda juga dapat menghilangkan parameter physics_suite dan mengganti parameter mp_physics, cu_physics, sf_surface_physics, sf_sfclay_physics, ra_lw_physics, ra_sw_physics, dan bl_pbl_physics ke opsi lain yang ada di dalam Panduan Pengguna WRF Bab 5. Anda harus berhati-hati dan memperhatikan pemilihan skema parameterisasi karena terdapat parameter yang harus ditambahkan di dalam bagian &physics, menambahkan bagian lain, atau kombinasi antar skema. Sebagai contoh untuk sf_surface_physics = 4 (Noah-MP Land Surface Model), perlu menambahkan bagian &noah_mp; Ketika cu_physics = 14 (Scale-aware SAS), perlu menambahkan parameter shcu_physics = 4; Parameter bl_pbl_physics = 2 (Mellor-Yamada-Janjic, MYJ) nilai dari parameter sf_sfclay_physics = 2 (Eta Model). Untuk pengaturan nilai-nilai di dalam &physics, Anda harus menambahkannya sebanyak jumlah domain. Anda juga dapat menonaktifkan skema parameterisasi tertentu dengan mengubahnya ke 0, misalnya pada cu_physics untuk domain <10 km.\n\n\nTabel 1.3: Informasi sebagian variabel di dalam namelist.input yang perlu disesuaikan dengan namelist.wps\n\n\n\n\n\n\nParameter di namelist.wps\nParameter di namelist.input\n\n\n\n\nstart_year = 2022, 2022, 2022,\nstart_year = 2022, 2022, 2022,\n\n\nstart_month = 01, 01, 01,\nstart_month = 01, 01, 01,\n\n\nstart_day = 01, 01, 01,\nstart_day = 01, 01, 01,\n\n\nstart_hour = 00, 00, 00,\nstart_hour = 00, 00, 00,\n\n\nend_year = 2022, 2022, 2022,\nend_year = 2022, 2022, 2022,\n\n\nend_month = 01, 01, 01,\nend_month = 01, 01, 01,\n\n\nend_day = 03, 03, 03,\nend_day = 03, 03, 03,\n\n\nend_hour = 18, 18, 18,\nend_hour = 18, 18, 18,\n\n\n-\nrun_days = 2,\n\n\n-\nrun_hour = 18,\n\n\nmax_dom = 3,\nmax_dom = 3,\n\n\ninterval_seconds = 21600,\ninterval_seconds = 21600,\n\n\nparent_id = 1, 1, 1,\nparent_id = 1, 1, 1,\n\n\nparent_grid_ratio =   1,   3,   9,\nparent_grid_ratio =   1,   3,   9,\n\n\ndx = 15000,\ndx = 15000,\n\n\ndy = 15000,\ndy = 15000,\n\n\ni_parent_start = 1,  11,  15,\ni_parent_start = 1,  11,  15,\n\n\nj_parent_start = 1,  11,  15,\nj_parent_start = 1,  11,  15,\n\n\ne_we =  33,  40,  46,\ne_we =  33,  40,  46,\n\n\ne_sn =  33,  40,  46,\ne_sn =  33,  40,  46,\n\n\n-\nparent_time_step_ratio = 1,   3,   9, (sama dengan parent_grid_ratio)\n\n\n-\ntime_step = 90, dengan rumus \\(6 * dx\\) (dalam km)\n\n\n\n\nIsi file namelist.input yang telah diubah sepenuhnya menjadi seperti ini.\n&time_control\n run_days                            = 2,\n run_hours                           = 18,\n run_minutes                         = 0,\n run_seconds                         = 0,\n start_year                          = 2022, 2022, 2022,\n start_month                         = 01,   01,  01,\n start_day                           = 01,   01,  01,\n start_hour                          = 00,   00,  00,\n end_year                            = 2022, 2022, 2022,\n end_month                           = 01,   01,  01, \n end_day                             = 03,   03,  03,\n end_hour                            = 18,   18,  18,\n interval_seconds                    = 21600,\n input_from_file                     = .true.,.true.,.true.,\n history_interval                    = 60,  60, 60,\n frames_per_outfile                  = 1000, 1000, 1000,\n restart                             = .false.,\n restart_interval                    = 7200,\n io_form_history                     = 2\n io_form_restart                     = 2\n io_form_input                       = 2\n io_form_boundary                    = 2\n /\n\n &domains\n time_step                           = 90,\n time_step_fract_num                 = 0,\n time_step_fract_den                 = 1,\n max_dom                             = 3,\n e_we                                = 33,    40,  46,\n e_sn                                = 33,    40,  46,\n e_vert                              = 44,    44,  44,\n dzstretch_s                         = 1.1\n p_top_requested                     = 5000,\n use_surface                         = .false.,\n sfcp_to_sfcp                        = .true.,\n num_metgrid_levels                  = 34,\n num_metgrid_soil_levels             = 4,\n dx                                  = 18000,\n dy                                  = 18000,\n grid_id                             = 1,     2,   3,\n parent_id                           = 1,     1,   1,\n i_parent_start                      = 1,     11, 15,\n j_parent_start                      = 1,     11, 15,\n parent_grid_ratio                   = 1,     3,   9,\n parent_time_step_ratio              = 1,     3,   9,\n feedback                            = 1,\n smooth_option                       = 0\n /\n\n &physics\n physics_suite                       = 'TROPICAL'\n mp_physics                          = -1,    -1,  -1,\n cu_physics                          = -1,     0,   0,\n ra_lw_physics                       = -1,    -1,  -1,\n ra_sw_physics                       = -1,    -1,  -1,\n bl_pbl_physics                      = -1,    -1,  -1,\n sf_sfclay_physics                   = -1,    -1,  -1,\n sf_surface_physics                  = -1,    -1,  -1,\n radt                                = 18,    18,  18,\n bldt                                = 0,     0,   0,\n cudt                                = 0,     0,   0,\n icloud                              = 1,\n num_land_cat                        = 21,\n sf_urban_physics                    = 0,     0,   0,\n fractional_seaice                   = 1,\n /\n\n &fdda\n /\n\n &dynamics\n hybrid_opt                          = 2, \n w_damping                           = 0,\n diff_opt                            = 2,      2,   2,\n km_opt                              = 4,      4,   4,\n diff_6th_opt                        = 0,      0,   0,\n diff_6th_factor                     = 0.12,   0.12, 0.12,\n base_temp                           = 290.\n damp_opt                            = 3,\n zdamp                               = 5000.,  5000., 5000.,\n dampcoef                            = 0.2,    0.2,     0.2,\n khdif                               = 0,      0,    0,\n kvdif                               = 0,      0,    0,\n non_hydrostatic                     = .true., .true., .true.,\n moist_adv_opt                       = 1,      1,    1,\n scalar_adv_opt                      = 1,      1,    1,\n gwd_opt                             = 1,      0,    0,\n /\n\n &bdy_control\n spec_bdy_width                      = 5,\n specified                           = .true.\n /\n\n &grib2\n /\n\n &namelist_quilt\n nio_tasks_per_group = 0,\n nio_groups = 1,\n /\n\n\n1.4.2.2 Menjalankan program real.exe dan wrf.exe\nProgram real.exe mengeluarkan file-file dalam format .nc, yaitu wrfbdy_d01 dan wrfinput_<domain>. Perintah menjalankan program ini adalah sebagai berikut.\n./real.exe\nUntuk melihat respon dari program ini, Anda dapat melihat file rsl.errror.0000 dengan perintah\ntail rsl.error.0000 -n 1\nJika respon yang diberikan terdapat kalimat real_em: SUCCESS COMPLETE REAL_EM INIT, Anda bisa melanjutkan ke tahapan wrf.exe.\n./wrf.exe\nProgram wrf.exe dikatakan berhasil apabila terdapat kalimat wrf: SUCCESS COMPLETE WRF pada baris terakhir rsl.error.0000. Langkah selanjutnya, Anda dapat menganalisis luaran WRF dengan aplikasi apapun yang Anda bisa, selama mendukung format *.nc. File simulasi luaran WRF bernama wrfout_<domain>_<yyyy>-<mm>-<dd>_<HH>:<MM>:<SS>. Untuk simulasi ini, terdapat 3 file wrfout_d0*. Sejatinya, file-file tersebut berformat *.nc walaupun tidak tertera pada nama file. File wrfout_d0* memiliki interval waktu per 1 jam, dari pukul 00:00 UTC 1 Januari - 18:00 UTC 3 Januari 2022.\n\n\n1.4.2.3 Tutup terminal Bash Anda"
  },
  {
    "objectID": "praktikum-1.html#prosedur-praktikum-analisis-luaran-wrf",
    "href": "praktikum-1.html#prosedur-praktikum-analisis-luaran-wrf",
    "title": "1  Dynamical Downscaling: Model Weather Research Forecasting (WRF)",
    "section": "1.5 Prosedur Praktikum: Analisis Luaran WRF",
    "text": "1.5 Prosedur Praktikum: Analisis Luaran WRF\nTerdapat 3 file luaran WRF yang telah Anda jalankan dengan masing-masing memiliki resolusi spasial yang berbeda, yaitu 18 km, 6 km, dan 2 km dengan pemilihan lokasi titik tengah longitude dan latitude di Kota Surabaya. Selanjutnya, Anda dapat melihat hasil dari simulasi tersebut dengan berbagai macam perangkat lunak, seperti ArcMap, Matlab, NCL, R, atau Python. Untuk praktikum ini, kami memberikan contoh dengan menggunakan Python di dalam Environment ncl yang telah Anda pasang sebelumnya.\n\n1.5.1 Membuka Jupyter Notebook\nAnda bisa menggunakan kode editor ini atau aplikasi lainnya, seperti Visual Studio Code, Notepad++, atau Atom. Untuk langkah-langkah di bawah ini, kami lebih menjelaskan pada Jupyter Notebook. Kode editor ini diketik melalui aplikasi Browser default Anda, misalnya Google Chrome, Mozilla Firefox, atau Microsoft Edge. Ikuti langkah-langkah berikut ini.\n\nBukalah terminal Bash Anda. Saat ini, Anda berada di direktori $HOME atau ~.\nBukalah direktori WRF-Model dengan mengetik perintah\ncd WRF-Model\nUntuk memulai pengetikan kode Python, aktifkan terlebih dahulu Environment ncl dengan perintah conda activate ncl.\nPengetikan kode Python dapat Anda langsung terapkan pada mode interaktif dengan mengetik perintah python pada terminal. Kami menyarankan Anda untuk menggunakan Jupyter Notebook agar hasil kode langsung bisa ditampilkan di bawahnya. Pasang Jupyter Notebook pada terminal dengan mengetik perintah\nmamba install -c conda-forge jupyter notebook\nKetikkan perintah berikut ini untuk memulai pengetikan kode Python. Browser default Anda akan terbuka dengan menampilkan kode editor Jupyter Notebook (Gambar 1.12)\njupyter notebook\n\n\n\nGambar 1.12: Tampilan Jupyter Notebook\n\n\nKlik New dan pilih Python 3 (ipykernel). Tampilan awal Jupyter Notebook seperti pada Gambar 1.13\n\n\n\nGambar 1.13: Tampilan awal Jupyter Notebook\n\n\nAnda dapat langsung mendapatkan hasil dari kode yang ditulis pada sel (lihat tulisan In [1]) (Gambar 1.14)\n\n\n\nGambar 1.14: Tampilan interaktif Jupyter Notebook\n\n\n\n\n\n1.5.2 Menggunakan wrf-python\nPackage wrf-python (Ladwig 2017) dikembangkan oleh NCAR yang dikhususkan untuk Post-Processing luaran WRF. Package ini mendukung pembacaan file, perhitungan interpolasi, serta visualisasi WRF. Perhatikan langkah-langkah berikut cara penggunaan wrf-python mulai dari pembacaan file hingga visualisasi WRF.\n\nSaat ini, Anda berada di direktori ~/WRF-Model. File WRF Anda berada di folder ~/WRF-Model/WRF/test/em_real. Buat variabel yang berisi lokasi WRF Anda.\nImpor beberapa package yang dibutuhkan\nBuka salah satu file wrfout_d0*, misalnya wrfout_d03_2022-01-01_00:00:00 dan cetak variabel tersebut. Isinya adalah beberapa metadata. Anda dapat mengetahui variabel-variabel di dalamnya dengan menambahkan metode .variables. Oleh karena banyak variabelnya, di dalam modul ini kami hanya menjelaskan cara memvisualisasikan variabel suhu udara 2 meter dari permukaan tanah (T2)\nAnda dapat mengambil variabel dengan fungsi wrf.getvar() dengan menyertakan argumen dari nama variabel WRF. Untuk mengambil T2, gunakan perintah di bawah ini. Perhatikan hasil yang diperoleh merupakan tipe xarray.DataArray.\n\n\n\n\n\nGlotter M, Elliott J, McInerney D, Best N, Foster I, Moyer EJ. 2014. Evaluating the utility of dynamical downscaling in agricultural impacts projections. Proceedings of the National Academy of Sciences. 111(24):8776–8781.\n\n\nGoly A, Teegavarapu RS, Mondal A. 2014. Development and evaluation of statistical downscaling models for monthly precipitation. Earth Interactions. 18(18):1–28.\n\n\nHuth R, Kyselỳ J. 2000. Constructing site-specific climate change scenarios on a monthly scale using statistical downscaling. Theoretical and Applied Climatology. 66(1):13–27.\n\n\nKim J, Chang J, Baker N, Wilks D, Gates W. 1984. The statistical problem of climate inversion: Determination of the relationship between local and large-scale climate. Monthly weather review. 112(10):2069–2077.\n\n\nLadwig W. 2017. Wrf-Python Version 1.3.4. UCAR/NCAR - Earth Observing Laboratory.\n\n\nPahlavan H, Zahraie B, Nasseri M, Mahdipour Varnousfaderani A. 2018. Improvement of multiple linear regression method for statistical downscaling of monthly precipitation. International journal of environmental science and technology. 15(9):1897–1912.\n\n\nPiani C, Haerter J, Coppola E. 2010. Statistical bias correction for daily precipitation in regional climate models over europe. Theoretical and Applied Climatology. 99(1-2):187–192.\n\n\nPiani C, Weedon G, Best M, Gomes S, Viterbo P, Hagemann S, Haerter J. 2010. Statistical bias correction of global simulated daily precipitation and temperature for the application of hydrological models. Journal of Hydrology. 395(3-4):199–215.\n\n\nPowers JG, Klemp JB, Skamarock WC, Davis CA, Dudhia J, Gill DO, Coen JL, Gochis DJ, Ahmadov R, Peckham SE, et al. 2017. The weather research and forecasting model: Overview, system efforts, and future directions. Bulletin of the American Meteorological Society. 98(8):1717–1737.doi:10.1175/BAMS-D-15-00308.1.\n\n\nRichardson CW. 1981. Stochastic simulation of daily precipitation, temperature, and solar radiation. Water resources research. 17(1):182–190.\n\n\nSachindra D, Huang F, Barton A, Perera B. 2014. Statistical downscaling of general circulation model outputs to precipitation—part 1: Calibration and validation. International Journal of Climatology. 34(11):3264–3281.\n\n\nSkamarock WC, Klemp JB, Dudhia J, Gill DO, Barker DM, Wang W, Powers JG. 2019. A description of the advanced research WRF version 4. National Center For Atmospheric Research Boulder Co Mesoscale; Microscale ….\n\n\nSmid M, Costa AC. 2018. Climate projections and downscaling techniques: A discussion for impact studies in urban systems. International Journal of Urban Sciences. 22(3):277–307.doi:10.1080/12265934.2017.1409132.\n\n\nSonkaew T, Cumwan S, Kanta W, Macatangay R. Finding the optimum microphysics and convective parameterization schemes for the WRF model for LPRU, thailand.\n\n\nWilby RL, Wigley TM. 1997. Downscaling general circulation model output: A review of methods and limitations. Progress in physical geography. 21(4):530–548."
  }
]